:root {
  --bg-1: #050505;
  --bg-2: #0e0e0e;
  --bg-3: #161819;
  --bg-4: #1a1c1d;
  --border: #2a2a2c;
  --text-1: #ffffff;
  --text-2: #bcbcbc;
  --text-3: #6a6a70;
  --accent: #0080ff;
  --accent-dim: rgba(0,128,255,.10);
  --green: #00c758;
  --green-dim: rgba(0,199,88,.10);
  --cyan: #3080ff;
  --red: #fb2c36;
  --red-dim: rgba(251,44,54,.10);
  --orange: #fe6e00;
  --orange-dim: rgba(254,110,0,.10);
  --purple: #ac4bff;
  --purple-dim: rgba(172,75,255,.10);
  --yellow: #edb200;
  --yellow-dim: rgba(237,178,0,.10);
  --mono: 'JetBrains Mono', ui-monospace, monospace;
  --sans: 'Inter', system-ui, -apple-system, sans-serif;
}

* { box-sizing:border-box; margin:0; padding:0; }
html,body { height:100%; font-family:var(--sans); background:var(--bg-1); color:var(--text-1); font-size:14px; -webkit-font-smoothing:antialiased; }
::selection { background:var(--accent); color:#fff; }
::-webkit-scrollbar { width:5px; } ::-webkit-scrollbar-track { background:transparent; } ::-webkit-scrollbar-thumb { background:var(--border); border-radius:3px; }

/* ─── Layout ─────────────────── */
.shell { display:grid; grid-template-columns:220px 1fr; grid-template-rows:50px 1fr; height:100vh; }

.topbar {
  grid-column:1/-1; display:flex; align-items:center; justify-content:space-between;
  padding:0 20px; background:var(--bg-2); border-bottom:1px solid var(--border); z-index:10;
}
.brand { display:flex; align-items:center; gap:10px; font-weight:600; font-size:15px; letter-spacing:-.02em; }
.brand-logo { width:24px; height:24px; border-radius:6px; }

.topbar-tabs { display:flex; gap:2px; background:var(--bg-3); border-radius:8px; padding:3px; }
.tab-btn {
  padding:6px 16px; border-radius:6px; border:none; font-size:12px; font-weight:600;
  font-family:var(--sans); cursor:pointer; color:var(--text-3); background:transparent;
  transition:.15s;
}
.tab-btn:hover { color:var(--text-2); }
.tab-btn.active { background:var(--accent); color:#fff; }

.status-badge { display:flex; align-items:center; gap:6px; font-size:12px; color:var(--text-3); }
.status-dot { width:7px; height:7px; border-radius:50%; background:var(--green); }

.sidebar { background:var(--bg-2); border-right:1px solid var(--border); padding:14px 0; overflow-y:auto; }
.sb-label { padding:10px 16px 4px; font-size:10px; text-transform:uppercase; letter-spacing:1.2px; color:var(--text-3); font-weight:600; }
.sb-item { display:flex; align-items:center; gap:8px; padding:8px 16px; cursor:pointer; font-size:13px; color:var(--text-2); transition:.15s; }
.sb-item:hover { background:var(--bg-3); color:var(--text-1); }
.sb-item.active { background:var(--accent-dim); color:var(--accent); }
.sb-item .icon { font-size:14px; width:18px; text-align:center; }

.main { padding:24px; overflow-y:auto; }

/* ─── Cards & Layout ─────────────────── */
.card { background:var(--bg-2); border:1px solid var(--border); border-radius:10px; padding:20px; }
.card-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:16px; }
.card-title { font-size:15px; font-weight:600; }
.card-sub { font-size:12px; color:var(--text-3); }

.mb-md { margin-bottom:16px; }
.mt-md { margin-top:14px; }

.g4-controls { display:grid; grid-template-columns:1fr 1fr 150px 150px; gap:12px; }
.g5-controls { display:grid; grid-template-columns:1fr 1fr 140px 160px 100px; gap:12px; }
.g4 { display:grid; grid-template-columns:repeat(4,1fr); gap:12px; }
.g5 { display:grid; grid-template-columns:repeat(5,1fr); gap:12px; }

.label { display:block; font-size:10px; text-transform:uppercase; letter-spacing:.8px; color:var(--text-3); font-weight:600; margin-bottom:6px; }

select, .input {
  width:100%; padding:9px 12px; border-radius:8px; border:1px solid var(--border);
  background:var(--bg-3); color:var(--text-1); font-size:13px; font-family:var(--sans);
  outline:none; transition:.2s;
}
select:focus, .input:focus { border-color:var(--accent); box-shadow:0 0 0 2px var(--accent-dim); }
select:disabled, .input:disabled { opacity:.4; cursor:not-allowed; }
input[type="date"] { color-scheme: dark; }

.btn { padding:8px 18px; border-radius:8px; border:none; font-size:13px; font-weight:600; cursor:pointer; font-family:var(--sans); transition:.15s; }
.btn:disabled { opacity:.35; cursor:not-allowed; }
.btn-p { background:var(--accent); color:#fff; } .btn-p:hover:not(:disabled) { filter:brightness(1.15); }
.btn-g { background:var(--green); color:#000; } .btn-g:hover { filter:brightness(1.1); }
.btn-s { background:var(--bg-3); color:var(--text-2); border:1px solid var(--border); } .btn-s:hover { border-color:var(--text-3); }
.btn-row { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }

.stat { background:var(--bg-2); border:1px solid var(--border); border-radius:10px; padding:14px 16px; text-align:center; }
.stat-val { font-size:22px; font-weight:700; font-family:var(--mono); color:var(--accent); }
.stat-lbl { font-size:10px; text-transform:uppercase; letter-spacing:.8px; color:var(--text-3); margin-top:4px; }

.hidden { display:none !important; }

/* ─── Post Rows (Post Viewer) ─────────────────── */
.post-row {
  padding:16px 0;
  border-bottom:1px solid var(--border);
}
.post-row:last-child { border-bottom:none; }

.post-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; }
.post-acct { font-weight:600; font-size:14px; color:var(--accent); }
.post-meta { font-size:11px; color:var(--text-3); font-family:var(--mono); }

.post-template {
  display:inline-block; font-size:10px; font-weight:600; color:var(--accent);
  font-family:var(--mono); letter-spacing:.3px;
  background:var(--accent-dim); padding:2px 8px; border-radius:4px; margin-bottom:6px;
}
.post-type {
  display:inline-block; font-size:10px; font-weight:600; color:var(--green);
  font-family:var(--mono); letter-spacing:.3px;
  background:var(--green-dim); padding:2px 8px; border-radius:4px; margin-bottom:6px; margin-left:6px;
}

.post-hook { font-size:14px; font-weight:500; color:var(--text-1); margin-bottom:6px; line-height:1.4; max-width:800px; }
.post-caption { font-size:12px; color:var(--text-3); margin-bottom:6px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:800px; }
.post-link-row { margin-bottom:10px; }
.post-link { font-size:12px; font-family:var(--mono); color:var(--cyan); text-decoration:none; word-break:break-all; }
.post-link:hover { text-decoration:underline; }

.slide-texts-container { display:flex; flex-direction:column; gap:4px; background:var(--bg-3); border-radius:8px; padding:10px 12px; }
.slide-text { font-size:12.5px; color:var(--text-2); line-height:1.5; display:flex; gap:8px; align-items:flex-start; }
.slide-num { font-size:10px; font-weight:700; font-family:var(--mono); color:var(--accent); background:var(--accent-dim); padding:2px 5px; border-radius:4px; flex-shrink:0; margin-top:1px; }
.no-text { font-size:12px; color:var(--text-3); font-style:italic; padding:6px 0; }

/* ─── Pipeline Bar ─────────────────── */
.pipeline-bar {
  display:flex; align-items:center; gap:0;
  background:var(--bg-2); border:1px solid var(--border); border-radius:10px;
  padding:16px 24px;
}
.pipe-stage {
  display:flex; align-items:center; gap:8px; padding:6px 12px; border-radius:8px;
  transition:.2s;
}
.pipe-stage.active { background:var(--accent-dim); }
.pipe-stage.active .pipe-num { background:var(--accent); color:#fff; }
.pipe-stage.active .pipe-label { color:var(--text-1); }
.pipe-stage.done { background:var(--green-dim); }
.pipe-stage.done .pipe-num { background:var(--green); color:#000; }
.pipe-stage.done .pipe-label { color:var(--green); }
.pipe-num {
  width:24px; height:24px; border-radius:50%; display:flex; align-items:center; justify-content:center;
  font-size:11px; font-weight:700; font-family:var(--mono);
  background:var(--bg-3); color:var(--text-3); flex-shrink:0;
}
.pipe-label { font-size:12px; font-weight:600; color:var(--text-3); white-space:nowrap; }
.pipe-connector { flex:1; height:1px; background:var(--border); margin:0 8px; min-width:16px; }

/* ─── Comment Engine Post Cards ─────────────────── */
.ce-post-card {
  background:var(--bg-2); border:1px solid var(--border); border-radius:10px;
  padding:20px; margin-bottom:12px;
}
.ce-post-card.has-comment { border-color:var(--accent); border-color:rgba(0,128,255,.25); }

.ce-post-top { display:flex; align-items:flex-start; justify-content:space-between; gap:16px; margin-bottom:12px; }
.ce-post-info { flex:1; min-width:0; }
.ce-post-num {
  font-size:11px; font-weight:700; font-family:var(--mono); color:var(--text-3);
  margin-bottom:4px;
}
.ce-post-acct { font-weight:600; font-size:14px; color:var(--accent); margin-bottom:4px; }
.ce-post-hook { font-size:13px; color:var(--text-1); line-height:1.4; margin-bottom:4px; }
.ce-post-link {
  font-size:11px; font-family:var(--mono); color:var(--cyan);
  text-decoration:none; word-break:break-all;
}
.ce-post-link:hover { text-decoration:underline; }

.ce-post-slides {
  background:var(--bg-3); border-radius:8px; padding:10px 12px;
  margin-bottom:12px; max-height:120px; overflow-y:auto;
}

/* ─── Archetype Badge ─────────────────── */
.archetype-badge {
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:6px;
  font-size:11px; font-weight:600; font-family:var(--mono);
  letter-spacing:.3px;
}
.arch-personal_testimony { color:#0080ff; background:rgba(0,128,255,.12); }
.arch-situational_react { color:#00c758; background:rgba(0,199,88,.12); }
.arch-impulsive_action { color:#fe6e00; background:rgba(254,110,0,.12); }
.arch-social_sharing { color:#ac4bff; background:rgba(172,75,255,.12); }
.arch-comparative_real { color:#edb200; background:rgba(237,178,0,.12); }
.arch-hype_validation { color:#3dd68c; background:rgba(61,214,140,.12); }
.arch-curiosity_question { color:#36d6e7; background:rgba(54,214,231,.12); }
.arch-feigned_ignorance { color:#ff5c8a; background:rgba(255,92,138,.12); }

.archetype-row {
  display:flex; align-items:center; gap:8px; margin-bottom:12px; flex-wrap:wrap;
}
.brand-mention-badge {
  display:inline-flex; align-items:center; gap:4px;
  padding:3px 8px; border-radius:4px;
  font-size:10px; font-weight:600; font-family:var(--mono);
  color:var(--text-3); background:var(--bg-3);
}
.brand-mention-badge.yes { color:var(--green); background:var(--green-dim); }

/* ─── Comment Box ─────────────────── */
.ce-comment-box {
  background:var(--bg-3); border:1px solid var(--border); border-radius:8px;
  padding:12px 14px;
}
.ce-comment-box.valid { border-color:rgba(0,199,88,.3); }
.ce-comment-box.invalid { border-color:rgba(251,44,54,.3); }
.ce-comment-box.pending { border-color:var(--border); }

.ce-comment-label {
  font-size:10px; font-weight:600; text-transform:uppercase; letter-spacing:.8px;
  color:var(--text-3); margin-bottom:6px;
  display:flex; align-items:center; justify-content:space-between;
}
.ce-comment-text {
  font-size:14px; color:var(--text-1); line-height:1.5; font-style:italic;
}
.ce-comment-placeholder {
  font-size:13px; color:var(--text-3); font-style:italic;
}

/* ─── Validation Badges ─────────────────── */
.validation-row {
  display:flex; gap:6px; margin-top:8px; flex-wrap:wrap;
}
.val-badge {
  display:inline-flex; align-items:center; gap:4px;
  padding:2px 8px; border-radius:4px;
  font-size:10px; font-weight:600; font-family:var(--mono);
}
.val-pass { color:var(--green); background:var(--green-dim); }
.val-fail { color:var(--red); background:var(--red-dim); }
.val-warn { color:var(--orange); background:var(--orange-dim); }

/* ─── Batch Divider ─────────────────── */
.batch-divider {
  display:flex; align-items:center; gap:12px; padding:12px 0;
}
.batch-divider-line { flex:1; height:1px; background:var(--border); }
.batch-divider-label {
  font-size:11px; font-weight:700; font-family:var(--mono);
  color:var(--accent); background:var(--accent-dim);
  padding:4px 12px; border-radius:6px; white-space:nowrap;
}

/* ─── Animations ─────────────────── */
.fade-in { animation:fadeIn .3s ease both; }
@keyframes fadeIn { from { opacity:0; transform:translateY(6px); } to { opacity:1; transform:translateY(0); } }

@keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:.5; } }
.generating { animation:pulse 1.5s ease-in-out infinite; }
